<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook 社交网络分析平台</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 顶部控制面板 -->
    <div class="control-panel">
        <div class="panel-section">
            <h3>搜索与导航</h3>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="输入节点ID搜索...">
                <button id="searchBtn">搜索</button>
                <button id="clearSearchBtn">清除</button>
            </div>
            <div class="zoom-controls">
                <button id="zoomInBtn">放大</button>
                <button id="zoomOutBtn">缩小</button>
                <button id="resetZoomBtn">重置视图</button>
            </div>
        </div>

        <div class="panel-section">
            <h3>筛选条件</h3>
            <div class="filter-group">
                <label>度数范围:</label>
                <input type="range" id="degreeRange" min="0" max="100" value="100">
                <span id="degreeValue">100</span>
            </div>
            <div class="filter-group">
                <label>社群筛选:</label>
                <select id="communityFilter">
                    <option value="all">所有社群</option>
                </select>
            </div>
            <div class="filter-group">
                <label>显示模式:</label>
                <select id="displayMode">
                    <option value="all">显示所有</option>
                    <option value="neighbors">仅邻居</option>
                    <option value="highlighted">仅高亮</option>
                </select>
            </div>
        </div>

        <div class="panel-section">
            <h3>布局控制</h3>
            <div class="layout-controls">
                <button id="restartSimulationBtn">重新布局</button>
                <button id="pauseSimulationBtn">暂停/继续</button>
            </div>
            <div class="force-controls">
                <label>斥力强度:</label>
                <input type="range" id="chargeStrength" min="-100" max="-10" value="-30">
                <span id="chargeValue">-30</span>
            </div>
            <div class="force-controls">
                <label>连接距离:</label>
                <input type="range" id="linkDistance" min="20" max="200" value="80">
                <span id="linkValue">80</span>
            </div>
        </div>

        <div class="panel-section">
            <h3>导出功能</h3>
            <div class="export-controls">
                <button id="exportPNGBtn">导出PNG</button>
                <button id="exportSVGBtn">导出SVG</button>
                <button id="exportJSONBtn">导出布局</button>
                <button id="importLayoutBtn">导入布局</button>
                <input type="file" id="layoutFileInput" accept=".json" style="display: none;">
            </div>
        </div>
    </div>

    <!-- 右侧详情面板 -->
    <div class="detail-panel" id="detailPanel">
        <div class="panel-header">
            <h3>节点详情</h3>
            <button id="closeDetailBtn"></button>
        </div>
        <div class="panel-content" id="detailContent">
            <p>点击节点查看详情</p>
        </div>
    </div>

    <!-- 统计信息面板 -->
    <div class="stats-panel">
        <div class="stat-item">
            <span class="stat-label">总节点数:</span>
            <span class="stat-value" id="totalNodes">0</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">总边数:</span>
            <span class="stat-value" id="totalLinks">0</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">平均度数:</span>
            <span class="stat-value" id="avgDegree">0</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">最大度数:</span>
            <span class="stat-value" id="maxDegree">0</span>
        </div>
    </div>

    <!-- 主画布区域 -->
    <div class="main-container">
        <svg id="networkSvg"></svg>
        <div class="tooltip" id="tooltip"></div>
    </div>

    <!-- 加载指示器 -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p>正在加载网络数据...</p>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
